子网掩码（Subnet Mask）是用来划分IP地址的网络部分和主机部分的32位二进制数。它与IP地址一起用于确定一个网络中的子网和主机范围。以下是子网掩码的详细解释：

### 基本概念

#### 1. IP地址
- IPv4地址由32位二进制数构成，通常用点分十进制表示（如：192.168.1.1）。
- IP地址分为两部分：网络部分（Network Portion）和主机部分（Host Portion）。

#### 2. 子网掩码
- 子网掩码也是一个32位二进制数，用来划分IP地址的网络部分和主机部分。
- 子网掩码中的连续的1代表网络部分，连续的0代表主机部分。
- 常见的子网掩码表示为点分十进制（如：255.255.255.0）。

### 子网掩码的表示

子网掩码可以用两种方式表示：
1. **点分十进制表示法**：
   - 例如：255.255.255.0
   - 该子网掩码对应的二进制表示是：11111111.11111111.11111111.00000000

2. **CIDR（无类别域间路由）表示法**：
   - 例如：/24
   - /24表示子网掩码有24个1位，二进制形式同样为：11111111.11111111.11111111.00000000

### 子网划分

#### 1. 默认子网掩码
- 不划分子网时，IP地址的默认子网掩码根据地址类别（Class A, B, C）确定：
  - Class A：255.0.0.0 或 /8
  - Class B：255.255.0.0 或 /16
  - Class C：255.255.255.0 或 /24

#### 2. 自定义子网掩码
- 子网划分通过调整子网掩码中的1和0的数量实现。这样可以创建多个较小的子网，每个子网有更少的主机。
- 例如：将一个Class C网络（192.168.1.0/24）划分为两个子网，可以使用子网掩码255.255.255.128或/25。
  - 原子网：192.168.1.0/24
  - 划分后：
    - 子网1：192.168.1.0/25，子网掩码255.255.255.128
    - 子网2：192.168.1.128/25，子网掩码255.255.255.128

### 计算子网信息

#### 1. 子网数量和每个子网的主机数量
- **子网数量**：$2^n$，其中n为子网掩码中新增加的1的位数。
- **每个子网的主机数量**：$2^m - 2$，其中m为子网掩码中0的位数。减去2是因为每个子网的第一个地址是网络地址，最后一个地址是广播地址，不能分配给主机。

#### 2. 示例
- 原网络：192.168.1.0/24
- 子网掩码：255.255.255.128 或 /25
  - 增加的子网位数：1位（从/24到/25）
  - 新的子网数量：$2^1 = 2$
  - 每个子网的主机数量：$2^7 - 2 = 126$

### 子网掩码的作用

#### 1. 确定网络部分和主机部分
- 子网掩码用于从IP地址中提取网络部分和主机部分。
- 例如：IP地址192.168.1.10和子网掩码255.255.255.0
  - 网络部分：192.168.1
  - 主机部分：10

#### 2. 划分子网
- 子网掩码用于在大网络中创建多个较小的子网，提高网络管理和安全性。

### 实际应用
- **企业网络**：子网划分用于隔离不同部门或功能的网络流量，提高安全性和管理效率。
- **家庭网络**：路由器使用默认子网掩码管理家庭设备。
- **公共网络**：大型公共网络（如大学、酒店）使用子网划分优化网络性能和安全。

通过理解和使用子网掩码，可以更有效地设计和管理IP网络，确保网络资源的高效利用和安全性。

好的，通过具体的例子来说明子网掩码的概念和应用可以帮助你更好地理解。

### 例子1：默认子网掩码

假设你有一个IP地址是 `192.168.1.10`，默认子网掩码是 `255.255.255.0`。

- IP地址：192.168.1.10（对应的二进制是 `11000000.10101000.00000001.00001010`）
- 子网掩码：255.255.255.0（对应的二进制是 `11111111.11111111.11111111.00000000`）

将IP地址与子网掩码进行按位与操作，可以得到网络部分：

```
  11000000.10101000.00000001.00001010 (IP地址)
& 11111111.11111111.11111111.00000000 (子网掩码)
-------------------------------------
  11000000.10101000.00000001.00000000 (网络地址)
```

结果是 `192.168.1.0`，这就是网络地址。网络中的每台设备都共享这个相同的网络地址部分。

### 例子2：子网划分

假设你有一个Class C网络 `192.168.1.0/24`，现在你想将这个网络划分为两个子网。

- 原始子网掩码：255.255.255.0 或 /24
- 新的子网掩码：255.255.255.128 或 /25（增加1位用于子网划分）

子网掩码的二进制形式变为：
```
11111111.11111111.11111111.10000000
```

这意味着第25位用来划分子网，前24位仍然表示网络部分。

#### 划分后的子网：

1. **第一个子网**：
   - 网络地址：`192.168.1.0`
   - 子网掩码：`255.255.255.128` 或 `/25`
   - 可用IP范围：`192.168.1.1` 到 `192.168.1.126`
   - 广播地址：`192.168.1.127`

2. **第二个子网**：
   - 网络地址：`192.168.1.128`
   - 子网掩码：`255.255.255.128` 或 `/25`
   - 可用IP范围：`192.168.1.129` 到 `192.168.1.254`
   - 广播地址：`192.168.1.255`

### 例子3：更细粒度的子网划分

假设你要将 `192.168.1.0/24` 划分为四个子网。

- 原始子网掩码：255.255.255.0 或 /24
- 新的子网掩码：255.255.255.192 或 /26（增加2位用于子网划分）

子网掩码的二进制形式变为：
```
11111111.11111111.11111111.11000000
```

这意味着第25和第26位用来划分子网，前24位仍然表示网络部分。

#### 划分后的子网：

1. **第一个子网**：
   - 网络地址：`192.168.1.0`
   - 子网掩码：`255.255.255.192` 或 `/26`
   - 可用IP范围：`192.168.1.1` 到 `192.168.1.62`
   - 广播地址：`192.168.1.63`

2. **第二个子网**：
   - 网络地址：`192.168.1.64`
   - 子网掩码：`255.255.255.192` 或 `/26`
   - 可用IP范围：`192.168.1.65` 到 `192.168.1.126`
   - 广播地址：`192.168.1.127`

3. **第三个子网**：
   - 网络地址：`192.168.1.128`
   - 子网掩码：`255.255.255.192` 或 `/26`
   - 可用IP范围：`192.168.1.129` 到 `192.168.1.190`
   - 广播地址：`192.168.1.191`

4. **第四个子网**：
   - 网络地址：`192.168.1.192`
   - 子网掩码：`255.255.255.192` 或 `/26`
   - 可用IP范围：`192.168.1.193` 到 `192.168.1.254`
   - 广播地址：`192.168.1.255`

通过这些例子，你可以看到子网掩码是如何影响IP地址的划分的。子网掩码中的1位数越多，网络部分越大，可用的主机数量就越少。相反，子网掩码中的0位数越多，网络部分越小，可用的主机数量就越多。